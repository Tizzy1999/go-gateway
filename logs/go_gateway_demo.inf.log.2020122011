[INFO][2020-12-20T11:17:18.171][log.go:58] _com_request_in||traceid=ac0f46785fdec23e172007a7104dc7b0||cspanid=||spanid=f3d18446380704bb||uri=/service/service_detail?id=59||args=map[]||body=||method=GET||from=127.0.0.1
[INFO][2020-12-20T11:17:18.171][log.go:58] _com_mysql_success||affected_row=1||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:87||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`id` = '59')||traceid=ac0f46785fdec23e172007a7104dc7b0||cspanid=||spanid=f3d18446380704bb||level=sql||current_time=2020-12-20 11:17:18
[INFO][2020-12-20T11:17:18.171][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 11:17:18||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fdec23e172007a7104dc7b0||level=sql||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '59')||cspanid=||spanid=f3d18446380704bb
[INFO][2020-12-20T11:17:18.171][log.go:58] _com_mysql_success||affected_row=0||spanid=f3d18446380704bb||level=sql||current_time=2020-12-20 11:17:18||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '59')||traceid=ac0f46785fdec23e172007a7104dc7b0||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||proc_time=0.000000000
[INFO][2020-12-20T11:17:18.171][log.go:58] _com_mysql_success||current_time=2020-12-20 11:17:18||proc_time=0.000000000||affected_row=0||cspanid=||spanid=f3d18446380704bb||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '59')||traceid=ac0f46785fdec23e172007a7104dc7b0||level=sql
[INFO][2020-12-20T11:17:18.171][log.go:58] _com_mysql_success||current_time=2020-12-20 11:17:18||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fdec23e172007a7104dc7b0||cspanid=||level=sql||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '59')||spanid=f3d18446380704bb||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26
[INFO][2020-12-20T11:17:18.171][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-20 11:17:18||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '59')||affected_row=1||spanid=f3d18446380704bb||proc_time=0.000000000||traceid=ac0f46785fdec23e172007a7104dc7b0||cspanid=
[INFO][2020-12-20T11:17:18.171][log.go:58] _com_request_out||from=127.0.0.1||cspanid=||args=map[]||method=GET||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"id\":{\"id\":59,\"load_type\":0,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"update_at\":\"2020-04-18T20:29:13+08:00\",\"create_at\":\"2020-04-18T22:54:14+08:00\",\"is_delete\":0},\"http_rule\":{\"id\":178,\"service_id\":59,\"rule_type\":1,\"rule\":\"test.com\",\"need_https\":0,\"need_websocket\":1,\"need_strip_uri\":1,\"url_rewrite\":\"\",\"header_transfor\":\"add headername headervalue\"},\"tcp_rule\":{\"id\":0,\"service_id\":0,\"port\":0},\"grpc_rule\":{\"id\":0,\"service_id\":0,\"port\":0,\"header_transfor\":\"\"},\"load_balance\":{\"id\":187,\"service_id\":59,\"check_method\":0,\"check_timeout\":2,\"check_interval\":5,\"round_type\":2,\"ip_list\":\"127.0.0.1:2003,127.0.0.1:2004\",\"weight_list\":\"50,50\",\"forbid_list\":\"\",\"upstream_connect_timeout\":0,\"upstream_header_timeout\":0,\"upstream_idle_timeout\":0,\"upstream_max_idle\":0},\"access_control\":{\"id\":187,\"service_id\":59,\"open_auth\":1,\"black_list\":\"127.0.0.1\",\"white_list\":\"\",\"white_host_name\":\"\",\"clientip_flow_limit\":2,\"service_flow_limit\":3}},\"trace_id\":\"ac0f46785fdec23e172007a7104dc7b0\",\"stack\":null}||proc_time=0.003233823||traceid=ac0f46785fdec23e172007a7104dc7b0||spanid=f3d18446380704bb||uri=/service/service_detail?id=59
[INFO][2020-12-20T11:22:48.907][log.go:58] _com_request_in||uri=/service/service_add_http||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfer\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_http_string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_http_string\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||traceid=ac0f46785fdec388431007a73a768bb0||cspanid=||method=POST||spanid=f3d185f025845c95
[INFO][2020-12-20T11:22:48.907][log.go:58] _com_request_out||traceid=ac0f46785fdec388431007a73a768bb0||spanid=f3d185f025845c95||args=map[]||response={\"errno\":2000,\"errmsg\":\"接入路径：域名或者前缀为必填字段\",\"data\":\"\",\"trace_id\":\"ac0f46785fdec388431007a73a768bb0\",\"stack\":\"go_gateway_demo/public.DefaultGetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/public/params.go:32\\ngo_gateway_demo/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/Users/tizzy/test/go_gateway_demo/dto/service.go:64\\ngo_gateway_demo/controller.(*ServiceController).ServiceAddHTTP\\n\\t/Users/tizzy/test/go_gateway_demo/controller/service.go:205\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.TranslationMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/translation.go:159\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.SessionAuthMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RequestLog.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RecoveryMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.002001149||uri=/service/service_add_http||method=POST||from=127.0.0.1||cspanid=
[INFO][2020-12-20T11:23:09.997][log.go:58] _com_request_in||uri=/service/service_add_http||traceid=ac0f46785fdec39d4c5807a7ec3f25b0||spanid=f3d185e51bf98be2||method=POST||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfer\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_http_string\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_http_string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_http_string\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||from=127.0.0.1||cspanid=
[INFO][2020-12-20T11:23:09.997][log.go:58] _com_mysql_success||affected_row=0||traceid=ac0f46785fdec39d4c5807a7ec3f25b0||cspanid=||spanid=f3d185e51bf98be2||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:87||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'test_http_string')||level=sql||current_time=2020-12-20 11:23:09
[INFO][2020-12-20T11:23:09.997][log.go:58] _com_mysql_success||traceid=ac0f46785fdec39d4c5807a7ec3f25b0||cspanid=||spanid=f3d185e51bf98be2||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_http_string')||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 11:23:09||affected_row=0
[INFO][2020-12-20T11:23:09.997][log.go:58] _com_mysql_success||spanid=f3d185e51bf98be2||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:95||current_time=2020-12-20 11:23:09||affected_row=1||proc_time=0.000000000||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','test_http_string','test_http_string','2020-12-20 11:23:09','2020-12-20 11:23:09','0')||traceid=ac0f46785fdec39d4c5807a7ec3f25b0||cspanid=
[INFO][2020-12-20T11:23:10.000][log.go:58] _com_mysql_success||level=sql||sql=INSERT INTO `gateway_service_http_rule` (`service_id`,`rule_type`,`rule`,`need_https`,`need_websocket`,`need_strip_uri`,`url_rewrite`,`header_transfor`) VALUES ('63','0','/test_http_string','0','0','0','','')||affected_row=1||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:32||current_time=2020-12-20 11:23:10||proc_time=0.000000000||traceid=ac0f46785fdec39d4c5807a7ec3f25b0||spanid=f3d185e51bf98be2
[INFO][2020-12-20T11:23:10.000][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:31||sql=INSERT INTO `gateway_service_access_control` (`service_id`,`open_auth`,`black_list`,`white_list`,`white_host_name`,`clientip_flow_limit`,`service_flow_limit`) VALUES ('63','0','','','','0','0')||traceid=ac0f46785fdec39d4c5807a7ec3f25b0||affected_row=1||cspanid=||spanid=f3d185e51bf98be2||level=sql||current_time=2020-12-20 11:23:10||proc_time=0.000000000
[INFO][2020-12-20T11:23:10.000][log.go:58] _com_mysql_success||traceid=ac0f46785fdec39d4c5807a7ec3f25b0||spanid=f3d185e51bf98be2||sql=INSERT INTO `gateway_service_load_balance` (`service_id`,`check_method`,`check_timeout`,`check_interval`,`round_type`,`ip_list`,`weight_list`,`forbid_list`,`upstream_connect_timeout`,`upstream_header_timeout`,`upstream_idle_timeout`,`upstream_max_idle`) VALUES ('63','0','0','0','0','127.0.0.1:80','50','','0','0','0','0')||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:38||current_time=2020-12-20 11:23:10||proc_time=0.000000000||affected_row=1||cspanid=||level=sql
[INFO][2020-12-20T11:23:10.000][log.go:58] _com_request_out||args=map[]||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"ac0f46785fdec39d4c5807a7ec3f25b0\",\"stack\":null}||method=POST||proc_time=0.004539229||traceid=ac0f46785fdec39d4c5807a7ec3f25b0||cspanid=||spanid=f3d185e51bf98be2||uri=/service/service_add_http
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_request_in||spanid=f3d185b84dba7b0f||uri=/service/service_list?page_no=1&page_size=20||method=GET||from=127.0.0.1||args=map[]||body=||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||traceid=ac0f46785fdec3c0d51007a74419dbb0||spanid=f3d185b84dba7b0f||level=sql||current_time=2020-12-20 11:23:44||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 20 OFFSET 0||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:78||affected_row=7||cspanid=
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||spanid=f3d185b84dba7b0f||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:81||current_time=2020-12-20 11:23:44||cspanid=||proc_time=0.000000000||sql=SELECT count(*) FROM `gateway_service_info`  WHERE (is_delete=0) LIMIT 20 OFFSET 0||affected_row=0||traceid=ac0f46785fdec3c0d51007a74419dbb0
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||current_time=2020-12-20 11:23:44||affected_row=1||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '63')||traceid=ac0f46785fdec3c0d51007a74419dbb0||spanid=f3d185b84dba7b0f
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||traceid=ac0f46785fdec3c0d51007a74419dbb0||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '63')||affected_row=0||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-20 11:23:44||cspanid=||spanid=f3d185b84dba7b0f
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||cspanid=||spanid=f3d185b84dba7b0f||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '63')||affected_row=0||level=sql||current_time=2020-12-20 11:23:44||traceid=ac0f46785fdec3c0d51007a74419dbb0
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '63')||affected_row=1||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-20 11:23:44||proc_time=0.000000000||spanid=f3d185b84dba7b0f||traceid=ac0f46785fdec3c0d51007a74419dbb0
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '63')||affected_row=1||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-20 11:23:44||spanid=f3d185b84dba7b0f||level=sql||proc_time=0.000000000
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||spanid=f3d185b84dba7b0f||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '62')||affected_row=1||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||proc_time=0.000000000
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '62')||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||proc_time=0.000000000||affected_row=0||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||spanid=f3d185b84dba7b0f
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||spanid=f3d185b84dba7b0f||level=sql||current_time=2020-12-20 11:23:44||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '62')||affected_row=0
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||proc_time=0.000000000||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-20 11:23:44||spanid=f3d185b84dba7b0f||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '62')||affected_row=1
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '62')||cspanid=||traceid=ac0f46785fdec3c0d51007a74419dbb0||spanid=f3d185b84dba7b0f||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||proc_time=0.000000000||affected_row=1
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '60')||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||spanid=f3d185b84dba7b0f||level=sql||proc_time=0.000000000||affected_row=1||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 11:23:44
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '60')||affected_row=0||cspanid=||spanid=f3d185b84dba7b0f||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-20 11:23:44||traceid=ac0f46785fdec3c0d51007a74419dbb0
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||affected_row=0||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||proc_time=0.000000000||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '60')||spanid=f3d185b84dba7b0f||level=sql
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||spanid=f3d185b84dba7b0f||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-20 11:23:44||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '60')||affected_row=1||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||level=sql
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '60')||cspanid=||spanid=f3d185b84dba7b0f||level=sql||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fdec3c0d51007a74419dbb0||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||spanid=f3d185b84dba7b0f||proc_time=0.000000000||traceid=ac0f46785fdec3c0d51007a74419dbb0||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '59')||affected_row=1||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 11:23:44
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||affected_row=0||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-20 11:23:44||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '59')||spanid=f3d185b84dba7b0f
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||spanid=f3d185b84dba7b0f||level=sql||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '59')||affected_row=0||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-20 11:23:44||proc_time=0.000000000
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-20 11:23:44||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '59')||affected_row=1||spanid=f3d185b84dba7b0f
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||traceid=ac0f46785fdec3c0d51007a74419dbb0||level=sql||current_time=2020-12-20 11:23:44||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '59')||affected_row=1||cspanid=||spanid=f3d185b84dba7b0f
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||proc_time=0.000000000||affected_row=0||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||spanid=f3d185b84dba7b0f||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '58')
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||spanid=f3d185b84dba7b0f||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '58')
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||affected_row=0||traceid=ac0f46785fdec3c0d51007a74419dbb0||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '58')||proc_time=0.000000000||cspanid=||spanid=f3d185b84dba7b0f
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||affected_row=1||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '58')||proc_time=0.000000000||spanid=f3d185b84dba7b0f||level=sql||current_time=2020-12-20 11:23:44
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '58')||affected_row=1||cspanid=||spanid=f3d185b84dba7b0f||level=sql||current_time=2020-12-20 11:23:44||proc_time=0.000000000||traceid=ac0f46785fdec3c0d51007a74419dbb0
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '57')||affected_row=0||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||level=sql||spanid=f3d185b84dba7b0f||current_time=2020-12-20 11:23:44
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '57')||affected_row=0||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||spanid=f3d185b84dba7b0f||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||proc_time=0.000000000||level=sql||current_time=2020-12-20 11:23:44
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-20 11:23:44||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '57')||affected_row=1||traceid=ac0f46785fdec3c0d51007a74419dbb0||spanid=f3d185b84dba7b0f
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '57')||affected_row=1||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||proc_time=0.000000000||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||spanid=f3d185b84dba7b0f
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||spanid=f3d185b84dba7b0f||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||cspanid=||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '57')||affected_row=1||traceid=ac0f46785fdec3c0d51007a74419dbb0||level=sql||current_time=2020-12-20 11:23:44||proc_time=0.000000000
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||traceid=ac0f46785fdec3c0d51007a74419dbb0||spanid=f3d185b84dba7b0f||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||proc_time=0.000000000||affected_row=1||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '56')||cspanid=
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||current_time=2020-12-20 11:23:44||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '56')||cspanid=||spanid=f3d185b84dba7b0f||level=sql||proc_time=0.000000000||affected_row=0||traceid=ac0f46785fdec3c0d51007a74419dbb0||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||traceid=ac0f46785fdec3c0d51007a74419dbb0||spanid=f3d185b84dba7b0f||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '56')||affected_row=0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-20 11:23:44
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||spanid=f3d185b84dba7b0f||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '56')||affected_row=1||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-20 11:23:44||proc_time=0.000000000
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_mysql_success||level=sql||current_time=2020-12-20 11:23:44||affected_row=1||spanid=f3d185b84dba7b0f||traceid=ac0f46785fdec3c0d51007a74419dbb0||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '56')
[INFO][2020-12-20T11:23:44.731][log.go:58] _com_request_out||spanid=f3d185b84dba7b0f||args=map[]||from=127.0.0.1||proc_time=0.010324892||cspanid=||uri=/service/service_list?page_no=1&page_size=20||method=GET||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":7,\"list\":[{\"id\":63,\"service_name\":\"test_http_string\",\"service_desc\":\"test_http_string\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_http_string\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":62,\"service_name\":\"string\",\"service_desc\":\"test_http_service_indb\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_http_service_indb\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":2,\"service_addr\":\"127.0.0.1:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":1,\"service_addr\":\"127.0.0.1:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"127.0.0.1:4880/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2}]},\"trace_id\":\"ac0f46785fdec3c0d51007a74419dbb0\",\"stack\":null}||traceid=ac0f46785fdec3c0d51007a74419dbb0
[INFO][2020-12-20T11:23:55.964][log.go:58] _com_request_in||uri=/service/service_detail?id=63||args=map[]||body=||from=127.0.0.1||spanid=f3d185b33fba2470||method=GET||traceid=ac0f46785fdec3cb23b807a732aafeb0||cspanid=
[INFO][2020-12-20T11:23:55.964][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:87||proc_time=0.000000000||traceid=ac0f46785fdec3cb23b807a732aafeb0||spanid=f3d185b33fba2470||current_time=2020-12-20 11:23:55||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`id` = '63')||affected_row=1||cspanid=
[INFO][2020-12-20T11:23:55.964][log.go:58] _com_mysql_success||spanid=f3d185b33fba2470||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 11:23:55||proc_time=0.000000000||traceid=ac0f46785fdec3cb23b807a732aafeb0||cspanid=||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '63')||affected_row=1
[INFO][2020-12-20T11:23:55.964][log.go:58] _com_mysql_success||level=sql||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '63')||affected_row=0||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-20 11:23:55||proc_time=0.000000000||traceid=ac0f46785fdec3cb23b807a732aafeb0||cspanid=||spanid=f3d185b33fba2470
[INFO][2020-12-20T11:23:55.964][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '63')||affected_row=0||traceid=ac0f46785fdec3cb23b807a732aafeb0||spanid=f3d185b33fba2470||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-20 11:23:55||cspanid=
[INFO][2020-12-20T11:23:55.964][log.go:58] _com_mysql_success||current_time=2020-12-20 11:23:55||proc_time=0.000000000||traceid=ac0f46785fdec3cb23b807a732aafeb0||cspanid=||spanid=f3d185b33fba2470||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '63')||affected_row=1
[INFO][2020-12-20T11:23:55.964][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-20 11:23:55||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '63')||traceid=ac0f46785fdec3cb23b807a732aafeb0||spanid=f3d185b33fba2470||level=sql||affected_row=1||cspanid=||proc_time=0.000000000
[INFO][2020-12-20T11:23:55.964][log.go:58] _com_request_out||args=map[]||traceid=ac0f46785fdec3cb23b807a732aafeb0||cspanid=||uri=/service/service_detail?id=63||method=GET||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"id\":{\"id\":63,\"load_type\":0,\"service_name\":\"test_http_string\",\"service_desc\":\"test_http_string\",\"update_at\":\"2020-12-20T11:23:10+08:00\",\"create_at\":\"2020-12-20T11:23:10+08:00\",\"is_delete\":0},\"http_rule\":{\"id\":182,\"service_id\":63,\"rule_type\":0,\"rule\":\"/test_http_string\",\"need_https\":0,\"need_websocket\":0,\"need_strip_uri\":0,\"url_rewrite\":\"\",\"header_transfor\":\"\"},\"tcp_rule\":{\"id\":0,\"service_id\":0,\"port\":0},\"grpc_rule\":{\"id\":0,\"service_id\":0,\"port\":0,\"header_transfor\":\"\"},\"load_balance\":{\"id\":191,\"service_id\":63,\"check_method\":0,\"check_timeout\":0,\"check_interval\":0,\"round_type\":0,\"ip_list\":\"127.0.0.1:80\",\"weight_list\":\"50\",\"forbid_list\":\"\",\"upstream_connect_timeout\":0,\"upstream_header_timeout\":0,\"upstream_idle_timeout\":0,\"upstream_max_idle\":0},\"access_control\":{\"id\":191,\"service_id\":63,\"open_auth\":0,\"black_list\":\"\",\"white_list\":\"\",\"white_host_name\":\"\",\"clientip_flow_limit\":0,\"service_flow_limit\":0}},\"trace_id\":\"ac0f46785fdec3cb23b807a732aafeb0\",\"stack\":null}||proc_time=0.002306009||spanid=f3d185b33fba2470
