[INFO][2020-12-21T10:00:55.041][log.go:58] _com_request_in||args=map[]||traceid=ac0f46785fe001d79d580ff45a8581b0||spanid=f3ef47af57e9d186||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfer\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"open_auth\": 0,\n  \"port\": 0,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_grpc_servuce\",\n  \"weight_list\": \"100\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||cspanid=||uri=/service/service_add_grpc
[INFO][2020-12-21T10:00:55.041][log.go:58] _com_request_out||response={\"errno\":2001,\"errmsg\":\"端口，需要设置8001-8999范围内为必填字段\",\"data\":\"\",\"trace_id\":\"ac0f46785fe001d79d580ff45a8581b0\",\"stack\":\"go_gateway_demo/public.DefaultGetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/public/params.go:32\\ngo_gateway_demo/dto.(*ServiceAddGrpcInput).GetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/dto/service.go:150\\ngo_gateway_demo/controller.(*ServiceController).ServiceAddGrpc\\n\\t/Users/tizzy/test/go_gateway_demo/controller/service.go:632\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.TranslationMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/translation.go:177\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.SessionAuthMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RequestLog.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RecoveryMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.000964541||traceid=ac0f46785fe001d79d580ff45a8581b0||spanid=f3ef47af57e9d186||method=POST||from=127.0.0.1||cspanid=||uri=/service/service_add_grpc||args=map[]
[INFO][2020-12-21T10:01:03.083][log.go:58] _com_request_in||spanid=f3ef47a71408d2ac||method=POST||traceid=ac0f46785fe001df1d500ff466cb39b0||cspanid=||uri=/service/service_add_grpc||args=map[]||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfer\": \"\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"open_auth\": 0,\n  \"port\": 8888,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_grpc_servuce\",\n  \"weight_list\": \"100\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1
[INFO][2020-12-21T10:01:03.083][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:94||affected_row=0||traceid=ac0f46785fe001df1d500ff466cb39b0||cspanid=||level=sql||current_time=2020-12-21 10:01:03||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'test_grpc_servuce')||spanid=f3ef47a71408d2ac
[INFO][2020-12-21T10:01:03.083][log.go:58] _com_mysql_success||current_time=2020-12-21 10:01:03||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`port` = '8888')||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||traceid=ac0f46785fe001df1d500ff466cb39b0||cspanid=||spanid=f3ef47a71408d2ac||proc_time=0.000000000||affected_row=0
[INFO][2020-12-21T10:01:03.083][log.go:58] _com_mysql_success||affected_row=1||traceid=ac0f46785fe001df1d500ff466cb39b0||cspanid=||level=sql||current_time=2020-12-21 10:01:03||proc_time=0.000000000||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('2','test_grpc_servuce','string','2020-12-21 10:01:03','2020-12-21 10:01:03','0')||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:102||spanid=f3ef47a71408d2ac
[INFO][2020-12-21T10:01:03.083][log.go:58] _com_mysql_success||level=sql||proc_time=0.000000000||cspanid=||spanid=f3ef47a71408d2ac||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:38||current_time=2020-12-21 10:01:03||sql=INSERT INTO `gateway_service_load_balance` (`service_id`,`check_method`,`check_timeout`,`check_interval`,`round_type`,`ip_list`,`weight_list`,`forbid_list`,`upstream_connect_timeout`,`upstream_header_timeout`,`upstream_idle_timeout`,`upstream_max_idle`) VALUES ('65','0','0','0','0','127.0.0.1:80','100','string','0','0','0','0')||affected_row=1||traceid=ac0f46785fe001df1d500ff466cb39b0
[INFO][2020-12-21T10:01:03.083][log.go:58] _com_mysql_success||sql=INSERT INTO `gateway_service_grpc_rule` (`service_id`,`port`,`header_transfor`) VALUES ('65','8888','')||traceid=ac0f46785fe001df1d500ff466cb39b0||level=sql||proc_time=0.000000000||affected_row=1||cspanid=||spanid=f3ef47a71408d2ac||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:27||current_time=2020-12-21 10:01:03
[INFO][2020-12-21T10:01:03.083][log.go:58] _com_mysql_success||affected_row=1||spanid=f3ef47a71408d2ac||proc_time=0.000000000||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:31||current_time=2020-12-21 10:01:03||sql=INSERT INTO `gateway_service_access_control` (`service_id`,`open_auth`,`black_list`,`white_list`,`white_host_name`,`clientip_flow_limit`,`service_flow_limit`) VALUES ('65','0','string','string','string','0','0')||traceid=ac0f46785fe001df1d500ff466cb39b0||cspanid=||level=sql
[INFO][2020-12-21T10:01:03.083][log.go:58] _com_request_out||method=POST||from=127.0.0.1||traceid=ac0f46785fe001df1d500ff466cb39b0||cspanid=||spanid=f3ef47a71408d2ac||uri=/service/service_add_grpc||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"ac0f46785fe001df1d500ff466cb39b0\",\"stack\":null}||proc_time=0.007118335||args=map[]
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_request_in||method=GET||args=map[]||from=127.0.0.1||traceid=ac0f46785fe001f237c00ff402070fb0||uri=/service/service_list?page_no=1&page_size=20||body=||cspanid=||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:85||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 20 OFFSET 0||cspanid=||affected_row=9||traceid=ac0f46785fe001f237c00ff402070fb0
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||spanid=f3ef478a2e3108da||level=sql||current_time=2020-12-21 10:01:22||sql=SELECT count(*) FROM `gateway_service_info`  WHERE (is_delete=0) LIMIT 20 OFFSET 0||affected_row=0||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:88||proc_time=0.000000000||traceid=ac0f46785fe001f237c00ff402070fb0
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '65')||cspanid=||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-21 10:01:22||traceid=ac0f46785fe001f237c00ff402070fb0||level=sql||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '65')||affected_row=1||cspanid=||spanid=f3ef478a2e3108da||proc_time=0.000000000
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '65')||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||current_time=2020-12-21 10:01:22||proc_time=0.000000000
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||traceid=ac0f46785fe001f237c00ff402070fb0||affected_row=1||cspanid=||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '65')
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '65')||cspanid=||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '64')||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||spanid=f3ef478a2e3108da||current_time=2020-12-21 10:01:22||proc_time=0.000000000||affected_row=0
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '64')||cspanid=||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-21 10:01:22||proc_time=0.000000000||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||proc_time=0.000000000||affected_row=1||cspanid=||spanid=f3ef478a2e3108da||level=sql||current_time=2020-12-21 10:01:22||traceid=ac0f46785fe001f237c00ff402070fb0||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '64')
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '64')||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||spanid=f3ef478a2e3108da||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||proc_time=0.000000000||cspanid=||level=sql||current_time=2020-12-21 10:01:22
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||cspanid=||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||proc_time=0.000000000||affected_row=1||current_time=2020-12-21 10:01:22||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '64')||traceid=ac0f46785fe001f237c00ff402070fb0
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '63')||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-21 10:01:22||cspanid=||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-21 10:01:22||proc_time=0.000000000||spanid=f3ef478a2e3108da||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '63')
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||current_time=2020-12-21 10:01:22||proc_time=0.000000000||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '63')||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '63')||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||spanid=f3ef478a2e3108da||current_time=2020-12-21 10:01:22||proc_time=0.000000000||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-21 10:01:22||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '63')||spanid=f3ef478a2e3108da||level=sql||proc_time=0.000000000||affected_row=1
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||spanid=f3ef478a2e3108da||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '62')
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||proc_time=0.000000000||affected_row=0||cspanid=||current_time=2020-12-21 10:01:22||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '62')||traceid=ac0f46785fe001f237c00ff402070fb0||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '62')||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-21 10:01:22||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||affected_row=1||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '62')||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||spanid=f3ef478a2e3108da||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-21 10:01:22
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||cspanid=||spanid=f3ef478a2e3108da||level=sql||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '62')||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '60')||cspanid=||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '60')||affected_row=0||spanid=f3ef478a2e3108da||level=sql||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||current_time=2020-12-21 10:01:22||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||spanid=f3ef478a2e3108da||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '60')||affected_row=0||level=sql
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '60')||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-21 10:01:22
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||cspanid=||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||proc_time=0.000000000||traceid=ac0f46785fe001f237c00ff402070fb0||current_time=2020-12-21 10:01:22||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '60')||affected_row=1
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '59')||affected_row=1||cspanid=||spanid=f3ef478a2e3108da||level=sql||traceid=ac0f46785fe001f237c00ff402070fb0||current_time=2020-12-21 10:01:22
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||spanid=f3ef478a2e3108da||level=sql||current_time=2020-12-21 10:01:22||affected_row=0||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '59')
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||traceid=ac0f46785fe001f237c00ff402070fb0||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '59')||affected_row=0||cspanid=||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '59')||affected_row=1||level=sql||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '59')
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||cspanid=||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '58')||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '58')||spanid=f3ef478a2e3108da||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-21 10:01:22||proc_time=0.000000000||cspanid=||level=sql||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||spanid=f3ef478a2e3108da||level=sql||current_time=2020-12-21 10:01:22||proc_time=0.000000000||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '58')
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||level=sql||current_time=2020-12-21 10:01:22||proc_time=0.000000000||spanid=f3ef478a2e3108da||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '58')
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||traceid=ac0f46785fe001f237c00ff402070fb0||spanid=f3ef478a2e3108da||level=sql||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '58')||affected_row=1||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '57')||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||level=sql||spanid=f3ef478a2e3108da
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-21 10:01:22||spanid=f3ef478a2e3108da||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '57')||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||traceid=ac0f46785fe001f237c00ff402070fb0||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-21 10:01:22||affected_row=1||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '57')||cspanid=
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '57')||affected_row=1||current_time=2020-12-21 10:01:22||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||proc_time=0.000000000||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||spanid=f3ef478a2e3108da||level=sql
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-21 10:01:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '57')||cspanid=
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||current_time=2020-12-21 10:01:22||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '56')||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||cspanid=||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '56')||affected_row=0||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-21 10:01:22||traceid=ac0f46785fe001f237c00ff402070fb0
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '56')||affected_row=0||traceid=ac0f46785fe001f237c00ff402070fb0||spanid=f3ef478a2e3108da||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-21 10:01:22||level=sql||cspanid=
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||cspanid=||spanid=f3ef478a2e3108da||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '56')||current_time=2020-12-21 10:01:22||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_mysql_success||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fe001f237c00ff402070fb0||cspanid=||spanid=f3ef478a2e3108da||current_time=2020-12-21 10:01:22||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '56')||level=sql
[INFO][2020-12-21T10:01:22.887][log.go:58] _com_request_out||method=GET||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":9,\"list\":[{\"id\":65,\"service_name\":\"test_grpc_servuce\",\"service_desc\":\"string\",\"load_type\":2,\"service_addr\":\"127.0.0.1:8888\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":64,\"service_name\":\"test_add_tcp_service\",\"service_desc\":\"string\",\"load_type\":1,\"service_addr\":\"127.0.0.1:8900\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":63,\"service_name\":\"test_http_string\",\"service_desc\":\"test_http_string\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_http_string\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":62,\"service_name\":\"string\",\"service_desc\":\"test_http_service_indb\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_http_service_indb\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":2,\"service_addr\":\"127.0.0.1:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":1,\"service_addr\":\"127.0.0.1:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"127.0.0.1:4880/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2}]},\"trace_id\":\"ac0f46785fe001f237c00ff402070fb0\",\"stack\":null}||proc_time=0.016424498||cspanid=||spanid=f3ef478a2e3108da||uri=/service/service_list?page_no=1&page_size=20||traceid=ac0f46785fe001f237c00ff402070fb0||args=map[]
[INFO][2020-12-21T10:02:54.871][log.go:58] _com_request_in||uri=/service/service_update_grpc||args=map[]||from=127.0.0.1||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfer\": \"\",\n  \"id\": 65,\n  \"ip_list\": \"127.0.0.1:80,127.0.0.1:90\",\n  \"open_auth\": 0,\n  \"port\": 8889,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_grpc_servuce\",\n  \"weight_list\": \"66666\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}\n||traceid=ac0f46785fe0024e96000ff47fafc3b0||cspanid=||spanid=f3ef4436479a2bf9
[INFO][2020-12-21T10:02:54.871][log.go:58] _com_request_out||traceid=ac0f46785fe0024e96000ff47fafc3b0||spanid=f3ef4436479a2bf9||method=POST||args=map[]||proc_time=0.000895528||cspanid=||uri=/service/service_update_grpc||from=127.0.0.1||response={\"errno\":2002,\"errmsg\":\"ip列表与权重设置不匹配\",\"data\":\"\",\"trace_id\":\"ac0f46785fe0024e96000ff47fafc3b0\",\"stack\":\"ip列表与权重设置不匹配\"}
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_request_in||from=127.0.0.1||traceid=ac0f46785fe00259f2680ff45f3257b0||uri=/service/service_update_grpc||method=POST||cspanid=||spanid=f3ef44217062b076||args=map[]||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfer\": \"\",\n  \"id\": 65,\n  \"ip_list\": \"127.0.0.1:80,127.0.0.1:90\",\n  \"open_auth\": 0,\n  \"port\": 8889,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_grpc_servuce\",\n  \"weight_list\": \"666,666\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}\n
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`id` = '65')||traceid=ac0f46785fe00259f2680ff45f3257b0||cspanid=||spanid=f3ef44217062b076||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:94||current_time=2020-12-21 10:03:05||affected_row=1
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '65')||level=sql||current_time=2020-12-21 10:03:05||proc_time=0.000000000||affected_row=0||traceid=ac0f46785fe00259f2680ff45f3257b0||cspanid=||spanid=f3ef44217062b076||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||traceid=ac0f46785fe00259f2680ff45f3257b0||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||affected_row=1||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '65')||spanid=f3ef44217062b076||level=sql||current_time=2020-12-21 10:03:05
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||cspanid=||spanid=f3ef44217062b076||current_time=2020-12-21 10:03:05||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '65')||affected_row=0||traceid=ac0f46785fe00259f2680ff45f3257b0
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '65')||traceid=ac0f46785fe00259f2680ff45f3257b0||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||proc_time=0.000000000||spanid=f3ef44217062b076||current_time=2020-12-21 10:03:05||affected_row=1||cspanid=
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||proc_time=0.000000000||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-21 10:03:05||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '65')||affected_row=1||traceid=ac0f46785fe00259f2680ff45f3257b0||cspanid=||spanid=f3ef44217062b076||level=sql
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||current_time=2020-12-21 10:03:05||spanid=f3ef44217062b076||affected_row=1||traceid=ac0f46785fe00259f2680ff45f3257b0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:102||proc_time=0.000000000||sql=UPDATE `gateway_service_info` SET `load_type` = '2', `service_name` = 'test_grpc_servuce', `service_desc` = 'string', `update_at` = '2020-12-21 10:03:05', `create_at` = '2020-12-21 10:01:03', `is_delete` = '0'  WHERE `gateway_service_info`.`id` = '65'
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||level=sql||proc_time=0.000000000||affected_row=1||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:38||current_time=2020-12-21 10:03:05||sql=UPDATE `gateway_service_load_balance` SET `service_id` = '65', `check_method` = '0', `check_timeout` = '0', `check_interval` = '0', `round_type` = '0', `ip_list` = '127.0.0.1:80,127.0.0.1:90', `weight_list` = '666,666', `forbid_list` = 'string', `upstream_connect_timeout` = '0', `upstream_header_timeout` = '0', `upstream_idle_timeout` = '0', `upstream_max_idle` = '0'  WHERE `gateway_service_load_balance`.`id` = '193'||traceid=ac0f46785fe00259f2680ff45f3257b0||spanid=f3ef44217062b076
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||sql=UPDATE `gateway_service_grpc_rule` SET `service_id` = '65', `port` = '8888', `header_transfor` = ''  WHERE `gateway_service_grpc_rule`.`id` = '174'||affected_row=0||cspanid=||current_time=2020-12-21 10:03:05||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:27||proc_time=0.000000000||traceid=ac0f46785fe00259f2680ff45f3257b0||spanid=f3ef44217062b076||level=sql
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:27||current_time=2020-12-21 10:03:05||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE `gateway_service_grpc_rule`.`id` = '174' ORDER BY `gateway_service_grpc_rule`.`id` ASC LIMIT 1||cspanid=||affected_row=1||traceid=ac0f46785fe00259f2680ff45f3257b0||spanid=f3ef44217062b076
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||traceid=ac0f46785fe00259f2680ff45f3257b0||spanid=f3ef44217062b076||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:31||current_time=2020-12-21 10:03:05||affected_row=0||cspanid=||level=sql||proc_time=0.000000000||sql=UPDATE `gateway_service_access_control` SET `service_id` = '65', `open_auth` = '0', `black_list` = 'string', `white_list` = 'string', `white_host_name` = 'string', `clientip_flow_limit` = '0', `service_flow_limit` = '0'  WHERE `gateway_service_access_control`.`id` = '193'
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_mysql_success||level=sql||proc_time=0.000000000||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:31||current_time=2020-12-21 10:03:05||sql=SELECT * FROM `gateway_service_access_control`  WHERE `gateway_service_access_control`.`id` = '193' ORDER BY `gateway_service_access_control`.`id` ASC LIMIT 1||affected_row=1||traceid=ac0f46785fe00259f2680ff45f3257b0||spanid=f3ef44217062b076
[INFO][2020-12-21T10:03:05.476][log.go:58] _com_request_out||args=map[]||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"ac0f46785fe00259f2680ff45f3257b0\",\"stack\":null}||method=POST||from=127.0.0.1||proc_time=0.008549779||traceid=ac0f46785fe00259f2680ff45f3257b0||cspanid=||spanid=f3ef44217062b076||uri=/service/service_update_grpc
