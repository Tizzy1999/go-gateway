[INFO][2020-12-20T19:54:31.924][log.go:58] _com_request_in||uri=/service/service_add_tcp||args=map[]||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfer\": \"string\",\n  \"ip_list\": \"string\",\n  \"open_auth\": 0,\n  \"port\": 0,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=ac0f46785fdf3b7760a80cc9104dc7b0||cspanid=||spanid=f3d07d0f380704bb
[INFO][2020-12-20T19:54:31.924][log.go:58] _com_request_out||uri=/service/service_add_tcp||method=POST||args=map[]||response=<nil>||traceid=ac0f46785fdf3b7760a80cc9104dc7b0||cspanid=||from=127.0.0.1||proc_time=0.00077185||spanid=f3d07d0f380704bb
[INFO][2020-12-20T19:54:31.924][log.go:58] _com_panic||error=Undefined validation function 'valid_iplist' on field 'BlackList'||stack=goroutine 30 [running]:\nruntime/debug.Stack(0x18470c0, 0xc00141ac28, 0x1929e45)\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x9f\ngo_gateway_demo/middleware.RecoveryMiddleware.func1.1(0xc001390160)\n\t/Users/tizzy/test/go_gateway_demo/middleware/recovery.go:21 +0x214\npanic(0x1811340, 0xc0003271b0)\n\t/usr/local/go/src/runtime/panic.go:969 +0x1b9\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).parseFieldTagsRecursive(0xc0001a02a0, 0x18884c6, 0xc, 0x1888441, 0x9, 0x18884c6, 0x0, 0x0, 0x40, 0xc00032b398)\n\t/Users/tizzy/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:304 +0xf1f\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).extractStructCache(0xc0001a02a0, 0x18f8400, 0xc001438000, 0x199, 0x17cfefc, 0x12, 0x0)\n\t/Users/tizzy/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/cache.go:156 +0x439\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*validate).validateStruct(0xc00035aa20, 0x1a3fec0, 0xc00002a088, 0x18380e0, 0xc001438000, 0x16, 0x18f8400, 0xc001438000, 0x199, 0x1a4fbe0, ...)\n\t/Users/tizzy/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator.go:37 +0x9e5\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).StructCtx(0xc0001a02a0, 0x1a3fec0, 0xc00002a088, 0x18380e0, 0xc001438000, 0xb0, 0xb8)\n\t/Users/tizzy/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:289 +0x38a\ngopkg.in/go-playground/validator%!e(MISSING)v9.(*Validate).Struct(...)\n\t/Users/tizzy/go/pkg/mod/gopkg.in/go-playground/validator.v9@v9.29.0/validator_instance.go:262\ngo_gateway_demo/public.DefaultGetValidParams(0xc001390160, 0x18380e0, 0xc001438000, 0xc00141b568, 0x100515a)\n\t/Users/tizzy/test/go_gateway_demo/public/params.go:25 +0x117\ngo_gateway_demo/dto.(*ServiceAddTcpInput).GetValidParams(...)\n\t/Users/tizzy/test/go_gateway_demo/dto/service.go:109\ngo_gateway_demo/controller.(*ServiceController).ServiceAddTcp(0x2798568, 0xc001390160)\n\t/Users/tizzy/test/go_gateway_demo/controller/service.go:455 +0x6b\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngo_gateway_demo/middleware.TranslationMiddleware.func1(0xc001390160)\n\t/Users/tizzy/test/go_gateway_demo/middleware/translation.go:159 +0x671\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngo_gateway_demo/middleware.SessionAuthMiddleware.func1(0xc001390160)\n\t/Users/tizzy/test/go_gateway_demo/middleware/session_auth.go:18 +0x147\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngo_gateway_demo/middleware.RequestLog.func1(0xc001390160)\n\t/Users/tizzy/test/go_gateway_demo/middleware/request_log.go:59 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngo_gateway_demo/middleware.RecoveryMiddleware.func1(0xc001390160)\n\t/Users/tizzy/test/go_gateway_demo/middleware/recovery.go:33 +0x4e\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65 +0x1b3\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83 +0x65\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240 +0xe5\ngithub.com/gin-gonic/gin.(*Context).Next(0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000148b40, 0xc001390160)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389 +0x5c5\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000148b40, 0x1a3d6c0, 0xc0000ec1c0, 0xc0000fe200)\n\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351 +0x133\nnet/http.serverHandler.ServeHTTP(0xc0000ec000, 0x1a3d6c0, 0xc0000ec1c0, 0xc0000fe200)\n\t/usr/local/go/src/net/http/server.go:2843 +0xa3\nnet/http.(*conn).serve(0xc00017c820, 0x1a3fe80, 0xc0001ce6c0)\n\t/usr/local/go/src/net/http/server.go:1925 +0x8ad\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:2969 +0x36c\n||traceid=ac0f46785fdf3b7760a80cc9104dc7b0||cspanid=||spanid=f3d07d0f380704bb
[INFO][2020-12-20T19:56:18.015][log.go:58] _com_request_in||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfer\": \"string\",\n  \"ip_list\": \"string\",\n  \"open_auth\": 0,\n  \"port\": 0,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"weight_list\": \"string\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||traceid=ac0f46785fdf3be220200cff104dc7b0||uri=/service/service_add_tcp||method=POST||args=map[]||cspanid=||spanid=f3d07d9a380704bb
[INFO][2020-12-20T19:56:18.015][log.go:58] _com_request_out||method=POST||proc_time=0.001193787||cspanid=||response={\"errno\":2001,\"errmsg\":\"端口，需要设置8001-8999范围内为必填字段,IP列表 不符合输入格式,权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"ac0f46785fdf3be220200cff104dc7b0\",\"stack\":\"go_gateway_demo/public.DefaultGetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/public/params.go:32\\ngo_gateway_demo/dto.(*ServiceAddTcpInput).GetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/dto/service.go:109\\ngo_gateway_demo/controller.(*ServiceController).ServiceAddTcp\\n\\t/Users/tizzy/test/go_gateway_demo/controller/service.go:455\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.TranslationMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/translation.go:177\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.SessionAuthMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RequestLog.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RecoveryMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||traceid=ac0f46785fdf3be220200cff104dc7b0||spanid=f3d07d9a380704bb||uri=/service/service_add_tcp||args=map[]||from=127.0.0.1
[INFO][2020-12-20T19:56:41.445][log.go:58] _com_request_in||uri=/service/service_add_tcp||traceid=ac0f46785fdf3bf907f80cff5a8581b0||cspanid=||method=POST||args=map[]||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfer\": \"string\",\n  \"ip_list\": \"\",\n  \"open_auth\": 0,\n  \"port\": 8900,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"weight_list\": \"\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||from=127.0.0.1||spanid=f3d07d8157e9d186
[INFO][2020-12-20T19:56:41.445][log.go:58] _com_request_out||traceid=ac0f46785fdf3bf907f80cff5a8581b0||cspanid=||uri=/service/service_add_tcp||args=map[]||from=127.0.0.1||response={\"errno\":2001,\"errmsg\":\"IP列表为必填字段,权重列表为必填字段\",\"data\":\"\",\"trace_id\":\"ac0f46785fdf3bf907f80cff5a8581b0\",\"stack\":\"go_gateway_demo/public.DefaultGetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/public/params.go:32\\ngo_gateway_demo/dto.(*ServiceAddTcpInput).GetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/dto/service.go:109\\ngo_gateway_demo/controller.(*ServiceController).ServiceAddTcp\\n\\t/Users/tizzy/test/go_gateway_demo/controller/service.go:455\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.TranslationMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/translation.go:177\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.SessionAuthMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RequestLog.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RecoveryMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.000933473||spanid=f3d07d8157e9d186||method=POST
[INFO][2020-12-20T19:57:03.962][log.go:58] _com_request_in||method=POST||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfer\": \"string\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"open_auth\": 0,\n  \"port\": 8900,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"string\",\n  \"weight_list\": \"50\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||traceid=ac0f46785fdf3c0f7bd00cff66cb39b0||cspanid=||uri=/service/service_add_tcp||args=map[]||from=127.0.0.1||spanid=f3d07a771408d2ac
[INFO][2020-12-20T19:57:03.962][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:94||current_time=2020-12-20 19:57:03||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'string')||affected_row=1||traceid=ac0f46785fdf3c0f7bd00cff66cb39b0||level=sql||cspanid=||spanid=f3d07a771408d2ac
[INFO][2020-12-20T19:57:03.962][log.go:58] _com_request_out||proc_time=0.001510904||traceid=ac0f46785fdf3c0f7bd00cff66cb39b0||cspanid=||spanid=f3d07a771408d2ac||uri=/service/service_add_tcp||method=POST||args=map[]||from=127.0.0.1||response={\"errno\":2002,\"errmsg\":\"服务名被占用，请重新输入\",\"data\":\"\",\"trace_id\":\"ac0f46785fdf3c0f7bd00cff66cb39b0\",\"stack\":\"服务名被占用，请重新输入\"}
[INFO][2020-12-20T19:57:25.933][log.go:58] _com_request_in||traceid=ac0f46785fdf3c25a5600cfff27cc6b0||from=127.0.0.1||method=POST||args=map[]||body={\n  \"black_list\": \"string\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"header_transfer\": \"string\",\n  \"ip_list\": \"127.0.0.1:80\",\n  \"open_auth\": 0,\n  \"port\": 8900,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_add_tcp_service\",\n  \"weight_list\": \"50\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}||cspanid=||spanid=f3d07a5d68255aaf||uri=/service/service_add_tcp
[INFO][2020-12-20T19:57:25.933][log.go:58] _com_mysql_success||spanid=f3d07a5d68255aaf||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:94||proc_time=0.000000000||traceid=ac0f46785fdf3c25a5600cfff27cc6b0||cspanid=||level=sql||current_time=2020-12-20 19:57:25||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'test_add_tcp_service')||affected_row=0
[INFO][2020-12-20T19:57:25.933][log.go:58] _com_mysql_success||current_time=2020-12-20 19:57:25||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`port` = '8900')||affected_row=0||traceid=ac0f46785fdf3c25a5600cfff27cc6b0||cspanid=||spanid=f3d07a5d68255aaf
[INFO][2020-12-20T19:57:25.933][log.go:58] _com_mysql_success||current_time=2020-12-20 19:57:25||proc_time=0.000000000||traceid=ac0f46785fdf3c25a5600cfff27cc6b0||cspanid=||spanid=f3d07a5d68255aaf||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:102||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('1','test_add_tcp_service','string','2020-12-20 19:57:25','2020-12-20 19:57:25','0')||affected_row=1
[INFO][2020-12-20T19:57:25.933][log.go:58] _com_mysql_success||sql=INSERT INTO `gateway_service_load_balance` (`service_id`,`check_method`,`check_timeout`,`check_interval`,`round_type`,`ip_list`,`weight_list`,`forbid_list`,`upstream_connect_timeout`,`upstream_header_timeout`,`upstream_idle_timeout`,`upstream_max_idle`) VALUES ('64','0','0','0','0','127.0.0.1:80','50','string','0','0','0','0')||affected_row=1||cspanid=||spanid=f3d07a5d68255aaf||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:38||current_time=2020-12-20 19:57:25||proc_time=0.000000000||traceid=ac0f46785fdf3c25a5600cfff27cc6b0
[INFO][2020-12-20T19:57:25.933][log.go:58] _com_mysql_success||cspanid=||spanid=f3d07a5d68255aaf||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:26||current_time=2020-12-20 19:57:25||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fdf3c25a5600cfff27cc6b0||level=sql||sql=INSERT INTO `gateway_service_tcp_rule` (`service_id`,`port`) VALUES ('64','8900')
[INFO][2020-12-20T19:57:25.933][log.go:58] _com_mysql_success||current_time=2020-12-20 19:57:25||proc_time=0.000000000||traceid=ac0f46785fdf3c25a5600cfff27cc6b0||spanid=f3d07a5d68255aaf||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:31||sql=INSERT INTO `gateway_service_access_control` (`service_id`,`open_auth`,`black_list`,`white_list`,`white_host_name`,`clientip_flow_limit`,`service_flow_limit`) VALUES ('64','0','string','string','string','0','0')||affected_row=1||cspanid=
[INFO][2020-12-20T19:57:25.933][log.go:58] _com_request_out||from=127.0.0.1||traceid=ac0f46785fdf3c25a5600cfff27cc6b0||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"\",\"trace_id\":\"ac0f46785fdf3c25a5600cfff27cc6b0\",\"stack\":null}||proc_time=0.004472488||cspanid=||spanid=f3d07a5d68255aaf||uri=/service/service_add_tcp||method=POST||args=map[]
[INFO][2020-12-20T19:58:15.107][log.go:58] _com_request_in||args=map[]||from=127.0.0.1||cspanid=||spanid=f3d07a2f2606cd2b||uri=/service/service_update_tcp||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"id\": 0,\n  \"ip_list\": \"127.0.0.1:80\",\n  \"open_auth\": 0,\n  \"port\": 8900,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_add_tcp_service\",\n  \"weight_list\": \"100\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}\n||traceid=ac0f46785fdf3c57a1a80cff84c47fb0
[INFO][2020-12-20T19:58:15.107][log.go:58] _com_request_out||traceid=ac0f46785fdf3c57a1a80cff84c47fb0||spanid=f3d07a2f2606cd2b||uri=/service/service_update_tcp||args=map[]||from=127.0.0.1||response={\"errno\":2001,\"errmsg\":\"服务ID为必填字段\",\"data\":\"\",\"trace_id\":\"ac0f46785fdf3c57a1a80cff84c47fb0\",\"stack\":\"go_gateway_demo/public.DefaultGetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/public/params.go:32\\ngo_gateway_demo/dto.(*ServiceUpdateTcpInput).GetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/dto/service.go:130\\ngo_gateway_demo/controller.(*ServiceController).ServiceUpdateTcp\\n\\t/Users/tizzy/test/go_gateway_demo/controller/service.go:545\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.TranslationMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/translation.go:177\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.SessionAuthMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RequestLog.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RecoveryMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||proc_time=0.000944678||cspanid=||method=POST
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_request_in||args=map[]||body=||cspanid=||spanid=f3d07a191a714cf8||uri=/service/service_list?page_no=1&page_size=20||method=GET||from=127.0.0.1||traceid=ac0f46785fdf3c61df180cff54502fb0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||proc_time=0.000000000||cspanid=||spanid=f3d07a191a714cf8||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:85||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 20 OFFSET 0||affected_row=8||traceid=ac0f46785fdf3c61df180cff54502fb0||level=sql
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||cspanid=||spanid=f3d07a191a714cf8||proc_time=0.000000000||affected_row=0||current_time=2020-12-20 19:58:25||sql=SELECT count(*) FROM `gateway_service_info`  WHERE (is_delete=0) LIMIT 20 OFFSET 0||traceid=ac0f46785fdf3c61df180cff54502fb0||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_info.go:88
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||cspanid=||spanid=f3d07a191a714cf8||level=sql||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '64')||traceid=ac0f46785fdf3c61df180cff54502fb0||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||proc_time=0.000000000||affected_row=0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '64')||traceid=ac0f46785fdf3c61df180cff54502fb0||level=sql||proc_time=0.000000000||affected_row=0||cspanid=||spanid=f3d07a191a714cf8
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '64')||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0||level=sql||current_time=2020-12-20 19:58:25||proc_time=0.000000000||cspanid=||spanid=f3d07a191a714cf8||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||proc_time=0.000000000||affected_row=1||spanid=f3d07a191a714cf8||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '64')||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||spanid=f3d07a191a714cf8||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||current_time=2020-12-20 19:58:25||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '64')
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '63')||cspanid=||spanid=f3d07a191a714cf8||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 19:58:25
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||level=sql||current_time=2020-12-20 19:58:25||affected_row=0||cspanid=||spanid=f3d07a191a714cf8||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '63')||traceid=ac0f46785fdf3c61df180cff54502fb0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '63')||spanid=f3d07a191a714cf8||current_time=2020-12-20 19:58:25||proc_time=0.000000000||affected_row=0||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||affected_row=1||spanid=f3d07a191a714cf8||current_time=2020-12-20 19:58:25||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '63')
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||traceid=ac0f46785fdf3c61df180cff54502fb0||spanid=f3d07a191a714cf8||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '63')||current_time=2020-12-20 19:58:25||proc_time=0.000000000||affected_row=1||cspanid=
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 19:58:25||proc_time=0.000000000||spanid=f3d07a191a714cf8||cspanid=||level=sql||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '62')||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||traceid=ac0f46785fdf3c61df180cff54502fb0||spanid=f3d07a191a714cf8||level=sql||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '62')||affected_row=0||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||proc_time=0.000000000||cspanid=
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||level=sql||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '62')||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||spanid=f3d07a191a714cf8||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-20 19:58:25||proc_time=0.000000000||affected_row=0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '62')||affected_row=1||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-20 19:58:25||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||spanid=f3d07a191a714cf8
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||spanid=f3d07a191a714cf8||level=sql||proc_time=0.000000000||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '62')||affected_row=1
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0||spanid=f3d07a191a714cf8||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '60')
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||level=sql||current_time=2020-12-20 19:58:25||proc_time=0.000000000||affected_row=0||cspanid=||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '60')||traceid=ac0f46785fdf3c61df180cff54502fb0||spanid=f3d07a191a714cf8
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||affected_row=0||cspanid=||spanid=f3d07a191a714cf8||current_time=2020-12-20 19:58:25||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '60')||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||traceid=ac0f46785fdf3c61df180cff54502fb0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||traceid=ac0f46785fdf3c61df180cff54502fb0||level=sql||affected_row=1||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '60')||cspanid=||spanid=f3d07a191a714cf8||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-20 19:58:25
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||spanid=f3d07a191a714cf8||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||current_time=2020-12-20 19:58:25||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '60')||affected_row=1
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||spanid=f3d07a191a714cf8||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 19:58:25||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '59')||affected_row=1
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '59')||affected_row=0||traceid=ac0f46785fdf3c61df180cff54502fb0||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-20 19:58:25||cspanid=||spanid=f3d07a191a714cf8
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-20 19:58:25||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '59')||traceid=ac0f46785fdf3c61df180cff54502fb0||spanid=f3d07a191a714cf8||level=sql||cspanid=||affected_row=0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||spanid=f3d07a191a714cf8||current_time=2020-12-20 19:58:25||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '59')||level=sql
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '59')||cspanid=||current_time=2020-12-20 19:58:25||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0||spanid=f3d07a191a714cf8
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '58')||spanid=f3d07a191a714cf8||level=sql||proc_time=0.000000000||affected_row=0||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '58')||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||level=sql||proc_time=0.000000000||spanid=f3d07a191a714cf8||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '58')||affected_row=0||cspanid=||spanid=f3d07a191a714cf8||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||proc_time=0.000000000||traceid=ac0f46785fdf3c61df180cff54502fb0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-20 19:58:25||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '58')||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||level=sql||spanid=f3d07a191a714cf8
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||level=sql||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '58')||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||spanid=f3d07a191a714cf8||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-20 19:58:25||proc_time=0.000000000||affected_row=1
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 19:58:25||cspanid=||spanid=f3d07a191a714cf8||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '57')||affected_row=0||traceid=ac0f46785fdf3c61df180cff54502fb0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||spanid=f3d07a191a714cf8||level=sql||cspanid=||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '57')||affected_row=0||traceid=ac0f46785fdf3c61df180cff54502fb0||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-20 19:58:25||proc_time=0.000000000
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '57')||traceid=ac0f46785fdf3c61df180cff54502fb0||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-20 19:58:25||affected_row=1||spanid=f3d07a191a714cf8
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||traceid=ac0f46785fdf3c61df180cff54502fb0||spanid=f3d07a191a714cf8||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||proc_time=0.000000000||affected_row=1||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '57')||cspanid=
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||current_time=2020-12-20 19:58:25||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '57')||cspanid=||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||proc_time=0.000000000||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0||spanid=f3d07a191a714cf8
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||source=/Users/tizzy/test/go_gateway_demo/dao/service_http_rule.go:27||current_time=2020-12-20 19:58:25||proc_time=0.000000000||cspanid=||spanid=f3d07a191a714cf8||level=sql||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '56')||affected_row=1||traceid=ac0f46785fdf3c61df180cff54502fb0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||spanid=f3d07a191a714cf8||level=sql||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '56')||cspanid=||traceid=ac0f46785fdf3c61df180cff54502fb0||source=/Users/tizzy/test/go_gateway_demo/dao/service_grpc_rule.go:22||current_time=2020-12-20 19:58:25||affected_row=0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_tcp_rule.go:21||current_time=2020-12-20 19:58:25||traceid=ac0f46785fdf3c61df180cff54502fb0||spanid=f3d07a191a714cf8||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '56')||affected_row=0||cspanid=
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||affected_row=1||cspanid=||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '56')||traceid=ac0f46785fdf3c61df180cff54502fb0||spanid=f3d07a191a714cf8||level=sql||source=/Users/tizzy/test/go_gateway_demo/dao/service_access_control.go:26||current_time=2020-12-20 19:58:25
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_mysql_success||level=sql||affected_row=1||cspanid=||spanid=f3d07a191a714cf8||source=/Users/tizzy/test/go_gateway_demo/dao/service_load_balance.go:33||current_time=2020-12-20 19:58:25||proc_time=0.000000000||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '56')||traceid=ac0f46785fdf3c61df180cff54502fb0
[INFO][2020-12-20T19:58:25.745][log.go:58] _com_request_out||spanid=f3d07a191a714cf8||method=GET||args=map[]||proc_time=0.012872649||cspanid=||uri=/service/service_list?page_no=1&page_size=20||from=127.0.0.1||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":8,\"list\":[{\"id\":64,\"service_name\":\"test_add_tcp_service\",\"service_desc\":\"string\",\"load_type\":1,\"service_addr\":\"127.0.0.1:8900\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":63,\"service_name\":\"test_http_string\",\"service_desc\":\"test_http_string\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_http_string\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":62,\"service_name\":\"string\",\"service_desc\":\"test_http_service_indb\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_http_service_indb\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"127.0.0.1:8880/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":2,\"service_addr\":\"127.0.0.1:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":1,\"service_addr\":\"127.0.0.1:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"127.0.0.1:4880/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2}]},\"trace_id\":\"ac0f46785fdf3c61df180cff54502fb0\",\"stack\":null}||traceid=ac0f46785fdf3c61df180cff54502fb0
[INFO][2020-12-20T19:58:40.949][log.go:58] _com_request_in||from=127.0.0.1||traceid=ac0f46785fdf3c70e5a80cffcc44bfb0||cspanid=||uri=/service/service_update_tcp||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"id\": 64,\n  \"ip_list\": \"127.0.0.1:80\",\n  \"open_auth\": 0,\n  \"port\": 8900,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_add_tcp_service\",\n  \"weight_list\": \"100\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}\n||args=map[]||spanid=f3d07a08003e6306
[INFO][2020-12-20T19:58:40.949][log.go:58] _com_request_out||method=POST||response={\"errno\":2002,\"errmsg\":\"ip列表与权重设置不匹配\",\"data\":\"\",\"trace_id\":\"ac0f46785fdf3c70e5a80cffcc44bfb0\",\"stack\":\"ip列表与权重设置不匹配\"}||proc_time=0.000833675||traceid=ac0f46785fdf3c70e5a80cffcc44bfb0||uri=/service/service_update_tcp||args=map[]||from=127.0.0.1||cspanid=||spanid=f3d07a08003e6306
[INFO][2020-12-20T19:59:02.001][log.go:58] _com_request_in||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"id\": 64,\n  \"ip_list\": \"127.0.0.1:80\",\n  \"open_auth\": 0,\n  \"port\": 8900,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_add_tcp_service\",\n  \"weight_list\": \"\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}\n||traceid=ac0f46785fdf3c86adc00cff5d2928b0||cspanid=||spanid=f3d07afe7539a201||uri=/service/service_update_tcp||from=127.0.0.1||method=POST
[INFO][2020-12-20T19:59:02.001][log.go:58] _com_request_out||proc_time=0.000845169||traceid=ac0f46785fdf3c86adc00cff5d2928b0||spanid=f3d07afe7539a201||method=POST||args=map[]||from=127.0.0.1||response={\"errno\":2001,\"errmsg\":\"权重列表为必填字段\",\"data\":\"\",\"trace_id\":\"ac0f46785fdf3c86adc00cff5d2928b0\",\"stack\":\"go_gateway_demo/public.DefaultGetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/public/params.go:32\\ngo_gateway_demo/dto.(*ServiceUpdateTcpInput).GetValidParams\\n\\t/Users/tizzy/test/go_gateway_demo/dto/service.go:130\\ngo_gateway_demo/controller.(*ServiceController).ServiceUpdateTcp\\n\\t/Users/tizzy/test/go_gateway_demo/controller/service.go:545\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.TranslationMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/translation.go:177\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.SessionAuthMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/session_auth.go:18\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RequestLog.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/request_log.go:59\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngo_gateway_demo/middleware.RecoveryMiddleware.func1\\n\\t/Users/tizzy/test/go_gateway_demo/middleware/recovery.go:33\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/logger.go:240\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/context.go:124\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:389\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/Users/tizzy/go/pkg/mod/github.com/gin-gonic/gin@v1.4.0/gin.go:351\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2843\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1925\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1374\"}||cspanid=||uri=/service/service_update_tcp
[INFO][2020-12-20T19:59:09.267][log.go:58] _com_request_in||from=127.0.0.1||traceid=ac0f46785fdf3c8df0700cff7fafc3b0||cspanid=||method=POST||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"forbid_list\": \"string\",\n  \"id\": 64,\n  \"ip_list\": \"127.0.0.1:80\",\n  \"open_auth\": 0,\n  \"port\": 8900,\n  \"round_type\": 0,\n  \"service_desc\": \"string\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_add_tcp_service\",\n  \"weight_list\": \"100\",\n  \"white_host_name\": \"string\",\n  \"white_list\": \"string\"\n}\n||uri=/service/service_update_tcp||spanid=f3d07af5479a2bf9
[INFO][2020-12-20T19:59:09.267][log.go:58] _com_request_out||uri=/service/service_update_tcp||from=127.0.0.1||response={\"errno\":2002,\"errmsg\":\"ip列表与权重设置不匹配\",\"data\":\"\",\"trace_id\":\"ac0f46785fdf3c8df0700cff7fafc3b0\",\"stack\":\"ip列表与权重设置不匹配\"}||proc_time=0.000613179||spanid=f3d07af5479a2bf9||method=POST||args=map[]||traceid=ac0f46785fdf3c8df0700cff7fafc3b0||cspanid=
